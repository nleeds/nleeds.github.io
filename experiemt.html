<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="personal website">
    <meta name="keywords" content="nick leeds, nicholas leeds">
    <meta name="author" content="Nick Leeds">
    <title>Nick Leeds | Welcome</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <script type="text/javascript">

            var container, canvas, context;
            var WIDTH, HEIGHT;

            var branches, mouseX, mouseY;

            init();
            setInterval(loop, 1000/60);

            function init() {

                container = document.getElementById('container');

                WIDTH = window.innerWidth;
                HEIGHT = window.innerHeight;

                var canvas = document.createElement("canvas");
                canvas.width = WIDTH;
                canvas.height = HEIGHT;
                container.appendChild(canvas);

                context = canvas.getContext("2d");
                context.fillStyle = "rgb(0, 0, 0)";
                context.fillRect (0, 0, WIDTH, HEIGHT);

                branches = new Array();

                window.addEventListener('mousemove', onWindowMouseMove, false);

            }

            function onWindowMouseMove(event) {

                mouseX = event.clientX;
                mouseY = event.clientY;

            }

            function loop() {

                if (branches.length < 500) {

                    branches.push(new Branch(mouseX, mouseY));

                }

                context.beginPath();
                context.strokeStyle = "#f80";

                for (var i = 0; i < branches.length; i++) {

                    var branch = branches[i];
                    branch.life ++;

                    if (branch.life > 500) {

                        branches.shift();
                        continue;

                    }

                    context.moveTo(branch.x, branch.y);

                    branch.rw += Math.random() - .5;
                    branch.x += Math.cos(branch.rw);
                    branch.y += Math.sin(branch.rw);

                    context.lineTo(branch.x, branch.y);

                }

                context.stroke();
                context.closePath();

                context.fillStyle = "rgba(50, 0, 25, 0.1)";
                context.fillRect (0, 0, WIDTH, HEIGHT);
            }

            var Branch = function(x, y) {

                this.life = 0;
                this.x = x;
                this.y = y;
                this.rw = Math.random() * 360;

            }

        </script>
    </header>
</body>
</html>
